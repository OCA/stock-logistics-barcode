<ion-view title="{{'Scan To Picking' | translate}}">

    <ion-header-bar class="bar bar-header bar-stable">
        <button menu-toggle="right" class="button button-icon ion-navicon"></button>
        <h1 class="title loading_item">{{'Move Lines' | translate}}</h1>
        <span class="top-right-icon icon ion-clipboard"></span>
    </ion-header-bar>

    <ion-content class="has-header" data-ng-init="init()">

        <div class="list">
          <div class="item item-input">
            <div class = "col col-10"></div>
              <button class="button button-balanced col-80" translate="Scanner"
                    ui-sref="main_scan({
                        picking_type_id: params.picking_type_id,
                        picking_id: params.picking_id,
                        move_line_id: 0})"
              />
            <div class = "col col-10"></div>
          </div>
          <label class="item item-input">
              <div class="form-label col-33">{{'Picking' | translate}}</div>
              <span class="form-field col-66">{{data.picking.name}}</span>
          </label>
          <label class="item item-input">
              <div class="form-label col-33">{{'Partner' | translate}}</div>
              <span class="form-field col-66">{{data.picking.partner.name}}</span>
          </label>
          <label class="item item-input">
              <div class="form-label col-33">{{'State' | translate}}</div>
              <span class="form-field col-66">
                <span ng-show="data.picking.state == 'draft'">{{'Draft' | translate}}</span>
                <span ng-show="data.picking.state == 'waiting'">{{'Awaiting other operation' | translate}}</span>
                <span ng-show="data.picking.state == 'confirmed'">{{'Confirmed' | translate}}</span>
                <span ng-show="data.picking.state == 'assigned'">{{'Ready' | translate}}</span>
                <span ng-show="data.picking.state == 'done'">{{'Done' | translate}}</span>
                <span ng-show="data.picking.state == 'cancel'">{{'Cancelled' | translate}}</span>

              </span>
          </label>

        </div>

        <div class="row header">

          <div class="col col-40">{{'Product' | translate}}</div>
          <div class="col col-40">{{'Quantity' | translate}}</div>
          <div class="col col-20">&nbsp;</div>

        </div>
        <div ng-repeat="moveLine in data.moveLines" class="row" >
            <div class="col col-40 action-click" ng-click="see_move_line(moveLine)">{{moveLine.product.name}}
            </div>
            <div class="col col-40 action-click state-{{moveLine.state}}" ng-click="see_move_line(moveLine)">
              {{moveLine.qty_done}} / {{moveLine.qty_expected}} <br/>
              {{moveLine.uom.name}}
            </div>
            <div class="col col-20 col-button">
                <button class="button button-assertive button-col-small" ng-click="reset_qty(moveLine)"/>
                    <i class="icon ion-close"></i>
                </button>
            </div>
        </div>
<br />
        <div class="list">
          <div class="item item-input">
            <div class = "col col-10"></div>
              <button class="button button-royal col-80"
              ng-click="confirm_picking()" translate="Validate" />
            <div class = "col col-10"></div>
          </div>
        </div>

    </ion-content>

</ion-view>
