<?xml version="1.0" encoding="utf-8"?>
<!--
    Copyright 2016 Angel Moya <http://angelmoya.es>
    Copyright 2016 Eficent Business and IT Consulting Services, S.L.
    <http://www.eficent.com>
    License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->

<openerp>
    <data>

        <template id="stock_scanner_web.assets_frontend" name="Website assets">
            <meta name="viewport"
                  content="width=device-width, initial-scale=1"/>
            <script type="text/javascript"
                    src="/stock_scanner_web/static/lib/js/jquery-1.11.3.min.js"/>
            <link rel="stylesheet"
                  href="/stock_scanner_web/static/lib/css/jquery.mobile-1.4.5.min.css"/>
            <script type="text/javascript"
                    src="/stock_scanner_web/static/lib/js/jquery.mobile-1.4.5.min.js"/>
        </template>

        <template id="layout" name="Main layout">&lt;!DOCTYPE html&gt;
            <html>
                <head>
                    <title>Scanner Web</title>
                    <t t-call-assets="stock_scanner_web.assets_frontend" t-js="false"/>
                </head>
                <body style="background-color:powderblue;">
                    <div class="content" >
                        <t t-raw="0"/>
                    </div>
                    <t t-call-assets="stock_scanner_web.assets_frontend" t-css="false"/>
                </body>
            </html>
        </template>


        <template id="hardware_select" name="header" page="True">
            <t t-call="stock_scanner_web.layout">
                <div id="wrap" class="oe_structure oe_empty" data-role="page">
                    <div data-role="main" class="ui-content">
                        <div class="col-xs-12 text-center">
                            <p t-if="code == 'L'">
                                <center>
                                    <h3>Please, Select your hardware:</h3>
                                </center>
                                <div data-role="controlgroup"
                                     data-type="vertical">
                                    <t t-foreach="result" t-as="line">
                                        <a id="btn-go"
                                           t-attf-href="/scanner_call/{{line}}" class="ui-btn">
                                            <span t-esc="line"/>
                                        </a>
                                    </t>
                                </div>
                            </p>
                            <p t-if="code in ['E','N']">
                                <h3>
                                    <span t-esc="result"/>
                                </h3>
                                <p t-if="code == 'E'">
                                    <a id="btn-go" t-attf-href="/scanner_call/" class="ui-btn">
                                        Back
                                    </a>
                                </p>
                                <p t-if="code == 'N'">
                                    <a id="btn-back" href="#" data-rel="back"
                                       class="ui-btn ui-btn-b">
                                        Back to Odoo
                                    </a>
                                </p>
                            </p>
                        </div>
                    </div>
                </div>
            </t>
        </template>

        <template id="scanner_call" name="header" page="True">
            <t t-call="stock_scanner_web.layout">
                <div id="wrap" class="oe_structure oe_empty" data-role="page">
                    <div data-role="main" class="ui-content">
                        <!--<a t-attf-href="/scanner_call/"-->
                           <!--class="ui-btn ui-btn-inline ui-btn-b">Home</a>-->
                        <div class="col-xs-12 text-center">
                            <p t-if="code == 'L'">
                                <div data-role="controlgroup"
                                     data-type="vertical">
                                    <t t-foreach="result" t-as="line">
                                        <t t-if="len(line) != 2 and line[0] != '|'">
                                            <a id="btn-go"
                                               t-attf-href="/scanner_call/{{terminal_number}}/action/{{line}}" class="ui-btn">
                                                <span t-esc="line"/>
                                            </a>
                                        </t>
                                        <t t-if="len(line) != 2 and line[0] == '|'">
                                            <center>
                                                <h2 t-esc="line[1:]"/>
                                            </center>
                                        </t>
                                        <t t-if="len(line) == 2 and line[0] != '|'">
                                            <a id="btn-go"
                                               t-attf-href="/scanner_call/{{terminal_number}}/action?message={{line[0]}}" class="ui-btn">
                                                <span t-esc="line[1]"/>
                                            </a>
                                        </t>
                                    </t>
                                </div>
                            </p>
                            <p t-if="code == 'M'">
                                <h3>
                                    <span t-esc="result[0]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/action/0" class="ui-btn">
                                    Go
                                </a>
                            </p>
                            <p t-if="code == 'E'">
                                <h3>
                                    <span style="color:red;" t-esc="result[0]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/back" class="ui-btn">
                                    Back
                                </a>
                            </p>
                            <p t-if="code == 'F'">
                                <h3>
                                    <span t-esc="result[0]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/Menu" class="ui-btn">
                                    Go to menu
                                </a>
                            </p>
                            <p t-if="code == 'C'">

                                <h3>
                                    <span t-esc="result[0]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/action?message=True" class="ui-btn">
                                    Yes
                                </a>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/action?message=False" class="ui-btn">
                                    No
                                </a>
                            </p>
                            <p t-if="code in ['N','Q']">

                                <h3>
                                    <span t-esc="result[0][0:]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>

                                <form method="get"
                                    t-att-action="'/scanner_call/%s/action' % (terminal_number)" class="search_class form-inline">
                                    <div class="input-group">
                                        <input type="number" name="message" class="search-query form-control"/>
                                        <span class="input-group-btn">
                                            <button class="ui-btn">Submit</button>
                                        </span>
                                    </div>
                                </form>
                            </p>
                            <p t-if="code == 'T'">
                                <h3>
                                    <span t-esc="result[0]"/>
                                </h3>
                                <t t-foreach="result[1:]" t-as="line">
                                    <p t-esc="line"/>
                                </t>

                                <form method="get"
                                    t-att-action="'/scanner_call/%s/action' % (terminal_number)" class="search_class form-inline">
                                    <div class="input-group">
                                        <input type="text" name="message" class="search-query form-control"/>
                                        <span class="input-group-btn">
                                            <button type="submit"
                                                    class="ui-btn-b"><i
                                                    class="fa fa-go"/>Submit</button>
                                        </span>
                                    </div>
                                </form>
                            </p>
                            <p t-if="code == 'R'">
                                <h3>
                                    <t t-foreach="result" t-as="line">
                                        <span t-esc="line"/>
                                    </t>
                                </h3>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/Menu" class="ui-btn">
                                    Go to menu
                                </a>
                            </p>
                            <p t-if="code == 'U'">
                                <h3>Please, contact you administrator</h3>
                                <a id="btn-go"
                                   t-attf-href="/scanner_call/{{terminal_number}}/back" class="ui-btn">
                                    Go to menu
                                </a>
                            </p>
                            <p>
                                <!-- Debuggin tags:-->
                                <!--<h3>-->
                                    <!--<span t-esc="code" > </span>-->
                                <!--</h3>-->
                                <!--<span t-esc="result"/>-->
                                <!--<span t-esc="value"/>-->
                            </p>
                        </div>
                    </div>
                </div>
            </t>
        </template>
    </data>
</openerp>
