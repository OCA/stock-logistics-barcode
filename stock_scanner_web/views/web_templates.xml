<?xml version="1.0" encoding="utf-8"?>
<!--
    Copyright 2016 Eficent Business and IT Consulting Services, S.L.
    <http://www.eficent.com>
    Copyright 2017 PESOL - Angel Moya.
    <http://www.pesol.es>
    License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl).
-->
<odoo>

    <template id="scanner_layout" name="header">
        <t t-call="web.layout">
            <t t-set="head">
                <t t-call-assets="web.assets_common"/>
                <t t-call-assets="web.assets_backend"/>
                <meta name="viewport" content="width=device-width"/>
                <link rel="stylesheet" href="/web/static/lib/bootstrap/css/bootstrap.css"/>
                <link rel="stylesheet" href="/web/static/lib/fontawesome/css/font-awesome.css"/>
                <link rel="stylesheet" href="/stock_scanner_web/static/lib/css/responsive.css"/>
                <script src="/web/static/lib/jquery/jquery.js" type="text/javascript"/>
                <script src="/web/static/lib/bootstrap/js/tooltip.js" type="text/javascript"/>
                <script src="/web/static/lib/bootstrap/js/popover.js" type="text/javascript"/>
                <script src="/stock_scanner_web/static/lib/js/responsive.js" type="text/javascript"/>
                <script src="/stock_scanner_web/static/src/js/stock_scanner_web.tour.js"/>
            </t>
            <t t-raw="0"/>
        </t>
    </template>

    <template id="hardware_select" name="header">
        <t t-call="stock_scanner_web.scanner_layout">
            <div id="wrap" class="oe_structure oe_empty">
                <div class="container">
                    <div t-if="code == 'L'" class="row">
                        <div class="col-xs-12">
                            <h3 class="text-center">Please, Select your hardware:</h3>
                            <div>
                                <t t-foreach="result" t-as="line">
                                    <a t-attf-href="/stock_scanner_web/{{line}}" class="btn btn-primary">
                                        <span t-esc="line"/>
                                    </a>
                                </t>
                            </div>
                        </div>
                    </div>
                    <t t-if="code == 'N'">
                        <h3 class="text-center">
                            <span t-esc="result"/>
                        </h3>
                        <div class="block-bottom">
                            <a id="btn-back" href="#" class="btn btn-fullwith btn-default" onclick="history.back()">
                                Back to Odoo
                            </a>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <template id="error_message" name="header">
        <t t-call="stock_scanner_web.scanner_layout">
            <div id="wrap" class="oe_structure oe_empty">
                <div class="container">
                    <div class="row text-center">
                        <h3>
                            <span t-esc="result"/>
                        </h3>
                    </div>
                    <div t-if="code == 'E'" class="block-bottom">
                        <a id="btn-back" t-attf-href="/stock_scanner_web/" class="btn btn-fullwith btn-default">
                            Back
                        </a>
                    </div>
                </div>
            </div>
        </t>
    </template>

    <template id="scanner_call" name="header">
        <t t-call="stock_scanner_web.scanner_layout">
            <div id="wrap">
                <div class="container">
                    <div t-if="action is not 'reset'">
                        <a id="btn-home" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/?action=reset" class="btn btn-info">
                            <i class="fa fa-bars"></i>
                            <span class="hidden-xs">Main Menu</span>
                        </a>
                    </div>
                    <t t-if="code not in ['R','W'] and result.get('header')">
                        <h2 class="text-center" t-esc="result.get('header')"/>
                    </t>
                    <t t-if="code == 'L'">
                        <div>
                            <t t-foreach="result.get('lines')" t-as="line">
                                <div class="col-xs-12 col-sm-4 col-md-3">
                                    <div class="list-group">
                                        <a class="list-group-item list-group-item-info text-center js_item" t-attf-href="{{line.get('href')}}">
                                            <h4 class="list-group-item-heading" t-esc="line.get('label')"/>
                                            <!-- <p class="list-group-item-text">You can put text here</p> -->
                                        </a>
                                    </div>
                                </div>
                            </t>
                        </div>
                    </t>
                    <t t-if="code == 'M'">
                        <div>
                            <div class="col-xs-12">
                                <t t-foreach="result.get('lines')" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-go" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/action/0" class="btn btn-default pull-right">
                                Go
                            </a>
                        </div>
                    </t>
                    <t t-if="code == 'E'">
                        <div >
                            <div class="col-xs-12">
                                <t t-foreach="result.get('lines')" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-back" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/back" class="btn btn-default">
                                Back
                            </a>
                        </div>
                    </t>
                    <t t-if="code == 'F'">
                        <div >
                            <div class="col-xs-12">
                                <t t-foreach="result.get('lines')" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-back" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/?action=reset" class="btn btn-fullwith btn-default">
                                Go to menu
                            </a>
                        </div>
                    </t>
                    <t t-if="code == 'C'">
                        <div >
                            <div class="col-xs-12">
                                <t t-foreach="result.get('lines')" t-as="line">
                                    <p t-esc="line"/>
                                </t>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-yes" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/action?message=True" class="btn btn-default pull-right">
                                Yes
                            </a>
                            <a id="btn-no" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/action?message=False" class="btn btn-default">
                                No
                            </a>
                        </div>
                    </t>
                    <div t-if="code in ['N','Q']">
                        <div class="col-xs-12 col-md-6 col-md-offset-3">
                            <t t-foreach="result.get('lines')" t-as="line">
                                <p t-esc="line"/>
                            </t>

                            <form method="get" t-att-action="'/stock_scanner_web/%s/%s/action' % (terminal_number, step)" class="form-horizontal">
                                <div class="form-group">
                                    <t t-if="code == 'N'">
                                        <input id="kpad-result" type="number" step="1" name="message" class="search-query form-control" autofocus="autofocus"/>
                                    </t>
                                    <t t-if="code == 'Q'">
                                        <input id="kpad-result" step="any" name="message" class="search-query form-control" autofocus="autofocus"/>
                                    </t>
                                    <t t-if="show_numpad == 'yes'">
                                        <div class="text-center h1">
                                            <div class="kpad-row">
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="1">1</span>
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="2">2</span>
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="3">3</span>
                                            </div>
                                            <div class="kpad-row">
                                              <span class="btn btn-lg kpad-nmbr btn-default" data-key="4">4</span>
                                              <span class="btn btn-lg kpad-nmbr btn-default" data-key="5">5</span>
                                              <span class="btn btn-lg kpad-nmbr btn-default" data-key="6">6</span>
                                            </div>
                                            <div class="kpad-row">
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="7">7</span>
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="8">8</span>
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="9">9</span>
                                            </div>
                                            <div class="kpad-row">
                                                <t t-if="code == 'Q'">
                                                    <span class="btn btn-lg kpad-dot btn-default" t-att-data-key="decimal_point"><t t-esc="decimal_point"/></span>
                                                </t>
                                                <t t-if="code == 'N'">
                                                    <span class="btn-lg" data-key=""></span>
                                                </t>
                                                <span class="btn btn-lg kpad-nmbr btn-default" data-key="0">0</span>
                                                <span class="btn btn-lg kpad-del btn-default" data-key="x"><i class="fa fa-caret-square-o-left"></i></span>
                                            </div>
                                        </div>
                                    </t>
                                </div>
                                <button class="btn btn-fullwith btn-primary pull-right" type="submit">Submit</button>
                            </form>
                        </div>
                    </div>
                    <div t-if="code == 'T'" >
                        <div class="col-xs-12">
                            <t t-foreach="result.get('lines')" t-as="line">
                                <p t-esc="line"/>
                            </t>
                            <form method="get" t-att-action="'/stock_scanner_web/%s/%s/action' % (terminal_number, step)" class="form-horizontal col-md-6 col-xs-12">
                                <div class="form-group">
                                    <input type="text" name="message" class="search-query form-control" autofocus="autofocus"/>
                                </div>
                                <button type="submit" class="btn btn-fullwith btn-primary pull-right">Submit</button>
                            </form>
                        </div>
                    </div>
                    <t t-if="code == 'R'">
                        <div>
                            <div class="col-xs-12">
                                <h3>
                                    <t t-foreach="result.get('lines')" t-as="line">
                                        <span t-esc="line"/>
                                    </t>
                                </h3>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-back" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/Menu" class="btn btn-fullwith btn-default">
                                Go to menu
                            </a>
                        </div>
                    </t>
                    <t t-if="code == 'U'">
                        <div >
                            <div class="col-xs-12">
                                <h3>Please, contact you administrator</h3>
                            </div>
                        </div>
                        <div class="block-bottom">
                            <a id="btn-back" t-attf-href="/stock_scanner_web/{{terminal_number}}/{{step}}/back" class="btn btn-fullwith btn-default">
                                Go to menu
                            </a>
                        </div>
                    </t>
                    <div t-if="code == 'W'" >
                        <div class="col-xs-12">
                            <t t-call="{{result}}"/>
                        </div>
                    </div>
                </div>
            </div>
        </t>
    </template>
</odoo>
